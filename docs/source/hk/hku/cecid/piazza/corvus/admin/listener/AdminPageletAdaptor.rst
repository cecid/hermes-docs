.. java:import:: hk.hku.cecid.piazza.commons Sys

.. java:import:: hk.hku.cecid.piazza.commons.pagelet PageletStore

.. java:import:: hk.hku.cecid.piazza.commons.pagelet TemplateElement

.. java:import:: hk.hku.cecid.piazza.commons.pagelet.xslt BorderLayoutPageletAdaptor

.. java:import:: hk.hku.cecid.piazza.commons.util DataFormatter

.. java:import:: hk.hku.cecid.piazza.commons.util PropertyTree

.. java:import:: hk.hku.cecid.piazza.corvus.admin.menu MenuComponent

.. java:import:: hk.hku.cecid.piazza.corvus.core Kernel

.. java:import:: java.util Collection

.. java:import:: java.util Collections

.. java:import:: java.util Date

.. java:import:: java.util Iterator

.. java:import:: java.util List

.. java:import:: java.util Properties

.. java:import:: java.util Set

.. java:import:: java.util TreeSet

.. java:import:: javax.servlet.http HttpServletRequest

.. java:import:: javax.xml.transform Source

AdminPageletAdaptor
===================

.. java:package:: hk.hku.cecid.piazza.corvus.admin.listener
   :noindex:

.. java:type:: public class AdminPageletAdaptor extends BorderLayoutPageletAdaptor

   AdminPageletAdaptor is an HTTP-XSLT pagelet adaptor. It generally serves as a main framework for the admin pages. Pages generated by this pagelet are in border layout format corresponding to the pre-defined template.

   Subclasses are expected to override the getCenterSource() method and provide implementation for the generation of the transformation source which contributes to the center region of the page being rendered.

   :author: Hugo Y. K. Lam

Fields
------
ATTR_MESSAGE
^^^^^^^^^^^^

.. java:field:: protected static final String ATTR_MESSAGE
   :outertype: AdminPageletAdaptor

   The attribute name of the message attribute.

ATTR_PREFIX
^^^^^^^^^^^

.. java:field:: protected static final String ATTR_PREFIX
   :outertype: AdminPageletAdaptor

   The prefix of the attriute name used in this pagelet.

modules
^^^^^^^

.. java:field:: public static final Set modules
   :outertype: AdminPageletAdaptor

   The modules of this pagelet.

store
^^^^^

.. java:field:: public static final PageletStore store
   :outertype: AdminPageletAdaptor

   The pagelet store of this pagelet.

Methods
-------
getCenterSource
^^^^^^^^^^^^^^^

.. java:method:: protected Source getCenterSource(HttpServletRequest request)
   :outertype: AdminPageletAdaptor

   Gets the transformation source of the main body. This method by default generates a transformation source of the system status. Sub-classes should override this method and provide its own implementation.

   :param request: the servlet request.
   :return: the transformation source of the system status.

   **See also:** :java:ref:`hk.hku.cecid.piazza.commons.pagelet.xslt.BorderLayoutPageletAdaptor.getCenterSource(javax.servlet.http.HttpServletRequest)`

getErrorSource
^^^^^^^^^^^^^^

.. java:method:: protected Source getErrorSource(TemplateElement element, Throwable e, HttpServletRequest request)
   :outertype: AdminPageletAdaptor

   Gets transformation source which represents the error generated by any of the pagelets composing the page being generated by this pagelet.

   **See also:** :java:ref:`hk.hku.cecid.piazza.commons.pagelet.xslt.HttpXsltPageletAdaptor.getErrorSource(TemplateElement,Throwable,HttpServletRequest)`

getModuleId
^^^^^^^^^^^

.. java:method:: protected String getModuleId(HttpServletRequest request)
   :outertype: AdminPageletAdaptor

   Gets the module ID that this pagelet represents. This method will look up the listener parameter 'module'.

   :param request: the servlet request.
   :return: the module ID.

getNorthSource
^^^^^^^^^^^^^^

.. java:method:: protected Source getNorthSource(HttpServletRequest request)
   :outertype: AdminPageletAdaptor

   Gets the transformation source of the menu tabs.

   **See also:** :java:ref:`hk.hku.cecid.piazza.commons.pagelet.xslt.BorderLayoutPageletAdaptor.getNorthSource(javax.servlet.http.HttpServletRequest)`

getPageletStore
^^^^^^^^^^^^^^^

.. java:method:: protected PageletStore getPageletStore()
   :outertype: AdminPageletAdaptor

   **See also:** :java:ref:`hk.hku.cecid.piazza.commons.pagelet.PageletStore`

getSouthSource
^^^^^^^^^^^^^^

.. java:method:: protected Source getSouthSource(HttpServletRequest request)
   :outertype: AdminPageletAdaptor

   Gets the transformation source of the message area. The source will be generated according to the message attribute.

   :param request: the servlet request.
   :return: the transformation source of the message area.

   **See also:** :java:ref:`.ATTR_MESSAGE`, :java:ref:`hk.hku.cecid.piazza.commons.pagelet.xslt.BorderLayoutPageletAdaptor.getSouthSource(javax.servlet.http.HttpServletRequest)`

getTabId
^^^^^^^^

.. java:method:: protected String getTabId(HttpServletRequest request)
   :outertype: AdminPageletAdaptor

   Gets the tab ID that this pagelet represents. This method will look up the listener parameter 'tab'.

   :param request: the servlet request.
   :return: the tab ID.

getWestSource
^^^^^^^^^^^^^

.. java:method:: protected Source getWestSource(HttpServletRequest request)
   :outertype: AdminPageletAdaptor

   Gets the transformation source of the menu modules.

   **See also:** :java:ref:`hk.hku.cecid.piazza.commons.pagelet.xslt.BorderLayoutPageletAdaptor.getWestSource(javax.servlet.http.HttpServletRequest)`

